<app-adminheader></app-adminheader>
<form #couponForm="ngForm" (ngSubmit)="couponForm.form.valid ">
<div class="row">
    <div class="container card border-primary  p-4" >
            <br>
           <h4>Coupon :</h4>
            <hr/>
        <div class="form-group row">
          <div class="col-10 ">
            <div class="form-group row">
                <div class="col-3">
                    <label>Coupon Code :</label>
                </div>
                <div class="col-9">
                    <input type="text" class="form-control"  id="couponCode"
                     name="couponCode"  [(ngModel)]="couponModel.couponCode"
                     #couponCode="ngModel" required>
                     <span class="text-danger"
                     *ngIf="(couponCode.touched || couponForm.submitted) && couponCode.errors?.required">
                     Coupon Code is required
                 </span>
                </div>
            </div>
     
            <div class="form-group row">
                <div class="col-3">
                    <label> Discount :</label>
                </div>
                <div class="col-9">
                    <input type="number" class="form-control"  id="couponDiscount"
                     name="couponDiscount"  [(ngModel)]="couponModel.couponDiscount"
                     #couponDiscount="ngModel" required>
                     <span class="text-danger"
                     *ngIf="(couponDiscount.touched || couponForm.submitted) && couponDiscount.errors?.required">
                     Discount is required
                 </span>
                </div>
            </div>
            
            <div class="form-group row">
                <div class="col-3">
                    <label> Expiry Date :</label>
                </div>
                <div class="col-9">
                    <input type="date" class="form-control"  id="couponExpiryDate" [min]="todayDate"
                     name="couponExpiryDate"  [(ngModel)]="couponModel.couponExpiryDate"
                     #couponExpiryDate="ngModel" required>
                     <span class="text-danger"
                     *ngIf="(couponExpiryDate.touched || couponForm.submitted) && couponExpiryDate.errors?.required">
                     Expiry Date is required
                 </span>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-3">
                    <label> Description :</label>
                </div>
                <div class="col-9">
                <textarea type="text" class="form-control"   id="couponDescription"
                name="couponDescription"  [(ngModel)]="couponModel.couponDescription"></textarea>
                </div>
               
            </div>
            <div class="form-group row">
                <div class="col-4 offset-3">
                      <button type="submit" class="btn btn-primary col-12"  (click)="AddCoupon()">{{btntext}}</button>
                </div>
              </div>
          </div>
        </div>
 
            <hr/>
            <div class="container p-2 tabledata">
                    <h4 class="text-info">Coupon Details</h4><br>
            <table class="table table-striped table-bordered">
                    <tr>
                        <th style="display:none">Coupon ID</th>
                        <th>Coupon Code</th>
                        <th>Discount</th>
                        <th>Expiry Date</th>
                        <th>Description</th>
                        <th class="Actionwidth">Action</th>
                    </tr>
                    <tr *ngFor="let coupon of couponDetails; let i=index"
                    [ngClass]="{'active': selectedIndex == i}">
                       <td style="display:none"> {{coupon.couponID}}</td>
                        <td> {{coupon.couponCode}}</td>
                        <td> {{coupon.couponDiscount}}</td>
                        <td> {{coupon.couponExpiryDate| date:"dd/MM/yyyy"}}</td>
                        <td> {{coupon.couponDescription}}</td>
                        <td style="width:170px;">
                            <button type="submit" class="btn btn-secondary" (click)="onEdit(coupon)" >Edit</button>
                            <button type="submit" class="btn btn-danger" (click)="onDelete(coupon)" >Delete</button>
                        </td>
                    </tr>
                </table>
                </div>
             </div>
    </div>
</form>
<footer></footer>
<app-footer></app-footer>
