<ion-header>
  <ion-toolbar  class="background">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title class="title">My Dashboard</ion-title>
    
  </ion-toolbar>
</ion-header>

<ion-content>
<ion-row style="height:60px">
  <ion-col size="12">
      <ion-text color="default" style="text-align: left;">
        <ion-tabs>  
          <ion-tab-bar slot="top" color="light">  
            <ion-tab-button    (click)="CalendarTab('current')">  
             Current  
            </ion-tab-button>  
              
            <ion-tab-button (click)="CalendarTab('tomorrow')">  
             Tomorrow
            </ion-tab-button>  

            <ion-tab-button (click)="CalendarTab('week')">  
               Week
             </ion-tab-button>  
                     
             <ion-tab-button (click)="CalendarTab('upcoming')">  
              Upcoming
             </ion-tab-button>  
                     
             <ion-tab-button (click)="CalendarTab('history')">  
              HISTORY
             </ion-tab-button>  
                      
                     
          </ion-tab-bar>  
        </ion-tabs>
      </ion-text>
    </ion-col>
    </ion-row>

      <ion-row *ngIf="ongoing.length>0">
        <ion-col *ngFor="let item of ongoing" size="12" >
          <ion-card>
            <ion-card-header>
              <ion-row>
                <ion-col><div style="text-align: left;">{{item.serviceName}}</div></ion-col>
                <ion-col>  <div style="text-align: right;" >
                  <span *ngIf="item.bookingStatusId =='1' || item.bookingStatusId =='2' || item.bookingStatusId =='3'  || item.bookingStatusId =='5'" >
                    <ion-badge color="primary">  {{item.bookingStatus}} </ion-badge>
                  </span>
                  <span *ngIf="item.bookingStatusId =='7'">
                    
                      <ion-badge color="primary">  Request Pending</ion-badge>
                  </span>
                  <span *ngIf="item.bookingStatusId =='6'" > <ion-badge color="warning">  {{item.bookingStatus}}</ion-badge></span>
                  <span *ngIf="item.bookingStatusId =='4'" > <ion-badge color="danger">  {{item.bookingStatus}}</ion-badge></span>
                </div></ion-col>
              </ion-row>
              
                
              </ion-card-header>
              <ion-card-content>
                <ion-row>
                  <ion-col size="3">
                    <img src="../../assets/Images/profileicon.png"/>
                  </ion-col>
                  <ion-col size="9">
                    <div class="row">
                      <div class="col-md-12">Customer Name: {{item.username}}</div>
                  </div>
                  <div class="row">
                      <div class="col-md-12">Location: {{item.bookingLocation}}</div>
                  </div>
                  <div class="row">
                      <div class="col-md-12">Booking Date: {{item.bookingDate}}</div>
                  </div>
                  <div class="row">
                      <div class="col-md-12">Booking Timings: {{item.bookingTime}}</div>
                  </div>
                  <div class="row" *ngIf="item.ratingsId">
                    <div class="col-md-12">Ratings: {{item.ratingsId}}   <i class="fa fa-star starorange" aria-hidden="true" ></i></div>
                </div>
                  <div class="row" *ngIf="item.timeIn">
                    <div class="col-md-12">Time In: {{item.timeIn}}</div>
                </div>
                <div class="row" *ngIf="item.timeOut">
                  <div class="col-md-12">Time Out: {{item.timeOut}} </div>
              </div>
              <div class="row text-left" *ngIf="item.bookingType=='virtualPooja' || item.bookingType=='virtualAstrology'">
                <div class="col-md-12" [attr.disabled]="item.bookingStatusId =='7' || item.bookingStatusId =='5' || item.bookingStatusId =='4'? true : false ">
                   <a class="pointer" (click)="Meeting(item.bookingId)">Virtual Online Pooja</a></div>
            </div>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col> 
                    <ion-item>
                      <ion-label>Update Status</ion-label>
                      <ion-select #C (ionChange)="Accept(item.bookingId,C.value)" [interfaceOptions]="customAlertOptions" interface="alert"  placeholder="Select One">
                        <ion-select-option value="2" *ngIf="item.bookingStatusId =='1'" >Accept</ion-select-option>
                        <ion-select-option value="3">In Progress</ion-select-option>
                        <ion-select-option value="6">Notify Admin</ion-select-option>
                        <ion-select-option value="4" *ngIf="item.bookingStatusId =='1'" >Cancel</ion-select-option>
                      </ion-select>
                    </ion-item>
                 
                    <ion-item>
                        <ion-button type="button" color="warning" align="center">View Booking</ion-button>
    
                        <ion-button type="button" color="warning" align="center" (click)="TrackLocation(item.bookingId,item.userId)">Track Location</ion-button>
                        </ion-item>
                        
                  </ion-col>

                </ion-row>
              </ion-card-content>
              
              </ion-card>
      
        </ion-col>
      </ion-row>
    <ion-row *ngIf="ongoing.length==0" align="center">
      <ion-col>
        <div class="row text-center" *ngIf="ongoing.length==0">
          <div class="col-md-12 text-center" >
            <ion-label color="danger">No Bookings are available</ion-label>
          </div>
          </div>
      </ion-col>
    </ion-row>
</ion-content>

<ion-footer>
  <ion-toolbar class="footerbackground">
  <ion-tabs class="footerbackground">
    <ion-tab-bar slot="bottom" class="footerbackground">
      <ion-tab-button tab="schedule">
        <ion-icon name="home"  (click)="go()"></ion-icon>
        <ion-label color="white" style="color:white;">Home</ion-label>
     
      </ion-tab-button>
  
      <ion-tab-button tab="speakers">
        <ion-icon name="briefcase"></ion-icon>
        <ion-label style="color:white;">My Bookings</ion-label>
        <ion-badge>6</ion-badge>
      </ion-tab-button>
  
      <ion-tab-button tab="map">
        <ion-icon name="settings"></ion-icon>
        <ion-label style="color:white;">Services</ion-label>
      </ion-tab-button>
 
    </ion-tab-bar>
  </ion-tabs>
  </ion-toolbar>
</ion-footer>